import{j as r}from"./jsx-runtime.KYujgZxC.js";import{r as ee}from"./index.068npczX.js";import{f as te,c as se,j as ne,k as ae,S as ie,H as re,v as N,s as oe,l as le,n as ce,h as ue,o as fe,p as me,r as he,d as $,q as de,t as pe,w as ge,x as ye,y as J,z as xe,m as w}from"./motion.n9FrB57f.js";import{u as O}from"./use-motion-value.5OV0e2u_.js";import{r as R}from"./resolve-element.nR3aaaLE.js";function we(e,t){let a;const n=()=>{const{currentTime:s}=t,o=(s===null?0:s.value)/100;a!==o&&e(o),a=o};return te.update(n,!0),()=>se(n)}const ve=ne(()=>window.ScrollTimeline!==void 0);class _{constructor(t){this.animations=t.filter(Boolean)}then(t,a){return Promise.all(this.animations).then(t).catch(a)}getAll(t){return this.animations[0][t]}setAll(t,a){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=a}attachTimeline(t){const a=this.animations.map(n=>{if(ve()&&n.attachTimeline)n.attachTimeline(t);else return n.pause(),we(s=>{n.time=n.duration*s},t)});return()=>{a.forEach((n,s)=>{n&&n(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get duration(){let t=0;for(let a=0;a<this.animations.length;a++)t=Math.max(t,this.animations[a].duration);return t}runAll(t){this.animations.forEach(a=>a[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Me(e){return typeof e=="object"&&!Array.isArray(e)}function je(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},a=ae(e)?new ie(t,{enableHardwareAcceleration:!1}):new re(t,{enableHardwareAcceleration:!0});a.mount(e),N.set(e,a)}function Ae(e,t=100){const a=oe({keyframes:[0,t],...e}),n=Math.min(le(a),ce);return{type:"keyframes",ease:s=>a.next(n*s).value/t,duration:ue(n)}}function z(e,t,a,n){var s;return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?a:(s=n.get(t))!==null&&s!==void 0?s:e}const be=(e,t,a)=>{const n=t-e;return((a-e)%n+n)%n+e};function ke(e,t){return fe(e)?e[be(0,e.length,t)]:e}function Te(e,t,a){for(let n=0;n<e.length;n++){const s=e[n];s.at>t&&s.at<a&&(he(e,s),n--)}}function Se(e,t,a,n,s,i){Te(e,s,i);for(let o=0;o<t.length;o++)e.push({value:t[o],at:me(s,i,n[o]),easing:ke(a,o)})}function Ee(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const Le="easeInOut";function Ne(e,{defaultTransition:t={},...a}={},n){const s=t.duration||.3,i=new Map,o=new Map,h={},c=new Map;let k=0,u=0,E=0;for(let j=0;j<e.length;j++){const d=e[j];if(typeof d=="string"){c.set(d,u);continue}else if(!Array.isArray(d)){c.set(d.name,z(u,d.at,k,c));continue}let[M,p,f={}]=d;f.at!==void 0&&(u=z(u,f.at,k,c));let m=0;const A=(g,y,v,T=0,S=0)=>{const l=Ve(g),{delay:L=0,times:b=pe(l),type:U="keyframes",...Z}=y;let{ease:V=t.ease||"easeOut",duration:x}=y;const C=typeof L=="function"?L(T,S):L,D=l.length;if(D<=2&&U==="spring"){let F=100;if(D===2&&He(l)){const q=l[1]-l[0];F=Math.abs(q)}const G={...Z};x!==void 0&&(G.duration=ye(x));const K=Ae(G,F);V=K.ease,x=K.duration}x??(x=s);const H=u+C,W=H+x;b.length===1&&b[0]===0&&(b[1]=1);const I=b.length-l.length;I>0&&ge(b,I),l.length===1&&l.unshift(null),Se(v,l,V,b,H,W),m=Math.max(C+x,m),E=Math.max(W,E)};if($(M)){const g=B(M,o);A(p,f,P("default",g))}else{const g=R(M,n,h),y=g.length;for(let v=0;v<y;v++){p=p,f=f;const T=g[v],S=B(T,o);for(const l in p)A(p[l],Ce(f,l),P(l,S),v,y)}k=u,u+=m}}return o.forEach((j,d)=>{for(const M in j){const p=j[M];p.sort(Ee);const f=[],m=[],A=[];for(let y=0;y<p.length;y++){const{at:v,value:T,easing:S}=p[y];f.push(T),m.push(de(0,E,v)),A.push(S||"easeOut")}m[0]!==0&&(m.unshift(0),f.unshift(f[0]),A.unshift(Le)),m[m.length-1]!==1&&(m.push(1),f.push(null)),i.has(d)||i.set(d,{keyframes:{},transition:{}});const g=i.get(d);g.keyframes[M]=f,g.transition[M]={...t,duration:E,ease:A,times:m,...a}}}),i}function B(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function P(e,t){return t[e]||(t[e]=[]),t[e]}function Ve(e){return Array.isArray(e)?e:[e]}function Ce(e,t){return e[t]?{...e,...e[t]}:{...e}}const De=e=>typeof e=="number",He=e=>e.every(De);function Q(e,t,a,n){const s=R(e,n),i=s.length,o=[];for(let h=0;h<i;h++){const c=s[h];N.has(c)||je(c);const k=N.get(c),u={...a};typeof u.delay=="function"&&(u.delay=u.delay(h,i)),o.push(...xe(k,{...t,transition:u},{}))}return new _(o)}const We=e=>Array.isArray(e)&&Array.isArray(e[0]);function Ie(e,t,a){const n=[];return Ne(e,t,a).forEach(({keyframes:i,transition:o},h)=>{let c;$(h)?c=J(h,i.default,o.default):c=Q(h,i,o),n.push(c)}),new _(n)}const Fe=e=>{function t(a,n,s){let i;return We(a)?i=Ie(a,n,e):Me(n)?i=Q(a,n,s,e):i=J(a,n,s),e&&e.animations.push(i),i}return t},Y=Fe(),Ge=()=>r.jsxs("svg",{width:"320",height:"320",viewBox:"0 0 320 320",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",children:[r.jsx("path",{d:"M55.5 59.2455C81.5589 31.0561 118.411 13.1436 159.586 13.0009C241.488 12.7169 306.872 83.1458 304.086 165.001C303.305 187.956 297.467 209.574 287.638 228.69M34.6815 88C22.0023 110.807 15.1417 137.241 16.0862 165.001C18.767 243.795 80.7469 306.727 159.586 307.001C202.567 307.15 240.701 288.565 267 258.88",stroke:"white",strokeWidth:"23"}),r.jsx("path",{d:"M24.7469 94H122M122 94V192C120.5 219.5 102.195 223.345 68 222.5M122 94L205 222.5M205 222.5V81.5M205 222.5H297.862",stroke:"white",strokeWidth:"23"})]}),Ke=({toggle:e})=>r.jsx(w.button,{onClick:e,className:"relative w-12 h-12 z-10 bg-primary-600 display flex justify-center items-center rounded-full outline-none focus:outline-none",whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",stiffness:500,damping:20},children:r.jsxs("svg",{width:"23",height:"18",viewBox:"0 0 23 18",className:"w-6 h-6 fill-transparent stroke-white translate-x-[1px]",children:[r.jsx(w.path,{d:"M 2 2.5 L 20 2.5",className:"top",variants:{closed:{d:"M 2 2.5 L 20 2.5"},open:{d:"M 3 16.5 L 17 2.5"}},strokeWidth:"3",strokeLinecap:"round"}),r.jsx(w.path,{d:"M 2 9.423 L 20 9.423",opacity:"1",className:"middle",strokeWidth:"3",strokeLinecap:"round"}),r.jsx(w.path,{d:"M 2 16.346 L 20 16.346",className:"bottom",variants:{closed:{d:"M 2 16.346 L 20 16.346"},open:{d:"M 3 2.5 L 17 16.346"}},strokeWidth:"3",strokeLinecap:"round"})]})}),X=[{href:"#home",site:"Home"},{href:"#experience",site:"Experience"},{href:"#projects",site:"Projects"},{href:"https://shirajuki.js.org",site:"Digital garden"}],Xe=()=>{const[e,t]=ee.useState(!1),a=[O(1),O(0)],n=()=>{t(s=>(Y(a[0],s?1:0,{}),Y([["path.top",{d:s?"M 2 2.5 L 20 2.5":"M 3 16.5 L 17 2.5"},{at:"<",duration:.5,ease:"easeInOut"}],["path.middle",{opacity:s?1:0},{at:"<",duration:.5,ease:"easeInOut"}],["path.bottom",{d:s?"M 2 16.346 L 20 16.346":"M 3 2.5 L 17 16.346"},{at:"<",duration:.5,ease:"easeInOut"}],["nav.nav",{transform:s?"translateX(140%)":"translateX(0)"},{at:"-0.1",duration:.5,ease:"easeInOut"}]]),!s))};return r.jsxs(r.Fragment,{children:[r.jsxs(w.header,{initial:{scale:1,translateX:"-50%",translateY:"-200%"},animate:{scale:1,translateY:"0"},transition:{type:"spring",stiffness:260,damping:20,delay:2},className:"fixed z-50 top-6 backdrop-blur-md left-1/2 text-white items-center py-2 px-12 justify-between w-full max-w-[640px] mx-auto bg-clear rounded-full outline-primary-500 outline !hidden md:!flex",children:[r.jsx("a",{href:"/",children:r.jsxs(w.h1,{className:"text-2xl fancy-font flex items-center justify-center gap-2",whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",stiffness:400,damping:17},children:[r.jsx(Ge,{}),"Jonny"]})}),r.jsx("nav",{className:"flex gap-3 text-sm",children:X.map(s=>r.jsx(w.a,{href:s.href,whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",stiffness:500,damping:20},onClick:()=>s.href.startsWith("#")&&lenis.scrollTo(s.href,{offset:-50,duration:1}),className:`hover:bg-clear rounded-md p-[0.35rem] px-2 transition-background duration-300 ${s.href.startsWith("#")?"":"bg-clear"}`,children:s.site},s.site))})]}),r.jsxs(w.header,{initial:{scale:1,translateY:"-200%"},animate:{scale:1,translateY:"0"},transition:{type:"spring",stiffness:260,damping:20,delay:2},className:"!flex md:!hidden fixed z-50 right-6 top-6 w-full justify-end",children:[r.jsx(Ke,{toggle:n}),r.jsx("nav",{className:"fixed flex flex-col gap-3 text-sm backdrop-blur-md left-1/2 min-w-[50%] text-white items-center py-2 px-12 justify-between mx-auto bg-clear rounded-md outline-primary-500 outline translate-x-[140%] nav",children:X.map(s=>r.jsx(w.a,{href:s.href,whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",stiffness:500,damping:20},onClick:()=>s.href.startsWith("#")&&lenis.scrollTo(s.href,{offset:-50,duration:1}),className:`hover:bg-clear rounded-md p-[0.35rem] px-2 transition-background duration-300 ${s.href.startsWith("#")?"":"bg-clear"}`,children:s.site},s.site))})]})]})};export{Xe as default};
