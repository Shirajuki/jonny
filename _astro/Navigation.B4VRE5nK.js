import{j as r}from"./jsx-runtime.D3GSbgeI.js";import{r as O}from"./index.CQa_v5jP.js";import{f as te,c as se,j as ne,k as ae,S as ie,H as re,v as C,s as oe,l as le,n as ce,m as ue,o as fe,p as me,r as he,d as R,q as de,t as pe,w as ge,x as ye,y as X,z as xe,h as p}from"./motion.C_mkjQXm.js";import{u as N,a as we}from"./use-motion-value-event.AGCWVkBU.js";import{r as _,u as ve}from"./use-scroll.DHct29Oq.js";import"./index.yBjzXJbu.js";function be(t,e){let n;const s=()=>{const{currentTime:i}=e,l=(i===null?0:i.value)/100;n!==l&&t(l),n=l};return te.update(s,!0),()=>se(s)}const je=ne(()=>window.ScrollTimeline!==void 0);class Q{constructor(e){this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e){const n=this.animations.map(s=>{if(je()&&s.attachTimeline)s.attachTimeline(e);else return s.pause(),be(i=>{s.time=s.duration*i},e)});return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Me(t){return typeof t=="object"&&!Array.isArray(t)}function Ae(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=ae(t)?new ie(e,{enableHardwareAcceleration:!1}):new re(e,{enableHardwareAcceleration:!0});n.mount(t),C.set(t,n)}function ke(t,e=100){const n=oe({keyframes:[0,e],...t}),s=Math.min(le(n),ce);return{type:"keyframes",ease:i=>n.next(s*i).value/e,duration:ue(s)}}function Y(t,e,n,s){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(i=s.get(e))!==null&&i!==void 0?i:t}const Se=(t,e,n)=>{const s=e-t;return((n-t)%s+s)%s+t};function Te(t,e){return fe(t)?t[Se(0,t.length,e)]:t}function Ee(t,e,n){for(let s=0;s<t.length;s++){const i=t[s];i.at>e&&i.at<n&&(he(t,i),s--)}}function Le(t,e,n,s,i,o){Ee(t,i,o);for(let l=0;l<e.length;l++)t.push({value:e[l],at:me(i,o,s[l]),easing:Te(n,l)})}function Ne(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const Ve="easeInOut";function Ce(t,{defaultTransition:e={},...n}={},s){const i=e.duration||.3,o=new Map,l=new Map,u={},c=new Map;let v=0,a=0,L=0;for(let A=0;A<t.length;A++){const d=t[A];if(typeof d=="string"){c.set(d,a);continue}else if(!Array.isArray(d)){c.set(d.name,Y(a,d.at,v,c));continue}let[j,g,m={}]=d;m.at!==void 0&&(a=Y(a,m.at,v,c));let h=0;const k=(y,x,b,T=0,E=0)=>{const f=De(y),{delay:V=0,times:S=de(f),type:Z="keyframes",...q}=x;let{ease:D=e.ease||"easeOut",duration:w}=x;const H=typeof V=="function"?V(T,E):V,W=f.length;if(W<=2&&Z==="spring"){let I=100;if(W===2&&ze(f)){const ee=f[1]-f[0];I=Math.abs(ee)}const K={...q};w!==void 0&&(K.duration=ge(w));const P=ke(K,I);D=P.ease,w=P.duration}w??(w=i);const z=a+H,F=z+w;S.length===1&&S[0]===0&&(S[1]=1);const G=S.length-f.length;G>0&&pe(S,G),f.length===1&&f.unshift(null),Le(b,f,D,S,z,F),h=Math.max(H+w,h),L=Math.max(F,L)};if(R(j)){const y=B(j,l);k(g,m,$("default",y))}else{const y=_(j,s,u),x=y.length;for(let b=0;b<x;b++){g=g,m=m;const T=y[b],E=B(T,l);for(const f in g)k(g[f],He(m,f),$(f,E),b,x)}}v=a,a+=h}return l.forEach((A,d)=>{for(const j in A){const g=A[j];g.sort(Ne);const m=[],h=[],k=[];for(let x=0;x<g.length;x++){const{at:b,value:T,easing:E}=g[x];m.push(T),h.push(ye(0,L,b)),k.push(E||"easeOut")}h[0]!==0&&(h.unshift(0),m.unshift(m[0]),k.unshift(Ve)),h[h.length-1]!==1&&(h.push(1),m.push(null)),o.has(d)||o.set(d,{keyframes:{},transition:{}});const y=o.get(d);y.keyframes[j]=m,y.transition[j]={...e,duration:L,ease:k,times:h,...n}}}),o}function B(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function $(t,e){return e[t]||(e[t]=[]),e[t]}function De(t){return Array.isArray(t)?t:[t]}function He(t,e){return t[e]?{...t,...t[e]}:{...t}}const We=t=>typeof t=="number",ze=t=>t.every(We);function U(t,e,n,s){const i=_(t),o=i.length,l=[];for(let u=0;u<o;u++){const c=i[u];C.has(c)||Ae(c);const v=C.get(c),a={...n};typeof a.delay=="function"&&(a.delay=a.delay(u,o)),l.push(...xe(v,{...e,transition:a},{}))}return new Q(l)}const Fe=t=>Array.isArray(t)&&Array.isArray(t[0]);function Ge(t,e,n){const s=[];return Ce(t,e,n).forEach(({keyframes:o,transition:l},u)=>{let c;R(u)?c=X(u,o.default,l.default):c=U(u,o,l),s.push(c)}),new Q(s)}const Ie=t=>{function e(n,s,i){let o;return Fe(n)?o=Ge(n,s,t):Me(s)?o=U(n,s,i):o=X(n,s,i),o}return e},M=Ie(),Ke=()=>r.jsxs("svg",{width:"320",height:"320",viewBox:"0 0 320 320",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",children:[r.jsx("path",{d:"M55.5 59.2455C81.5589 31.0561 118.411 13.1436 159.586 13.0009C241.488 12.7169 306.872 83.1458 304.086 165.001C303.305 187.956 297.467 209.574 287.638 228.69M34.6815 88C22.0023 110.807 15.1417 137.241 16.0862 165.001C18.767 243.795 80.7469 306.727 159.586 307.001C202.567 307.15 240.701 288.565 267 258.88",stroke:"white",strokeWidth:"23"}),r.jsx("path",{d:"M24.7469 94H122M122 94V192C120.5 219.5 102.195 223.345 68 222.5M122 94L205 222.5M205 222.5V81.5M205 222.5H297.862",stroke:"white",strokeWidth:"23"})]}),Pe=({toggle:t})=>r.jsx(p.button,{onClick:t,className:"relative w-12 h-12 z-10 bg-primary-600 display flex justify-center items-center rounded-full outline-none focus:outline-none",whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",stiffness:500,damping:20},children:r.jsxs("svg",{width:"23",height:"18",viewBox:"0 0 23 18",className:"w-6 h-6 fill-transparent stroke-white translate-x-[1px]",children:[r.jsx("title",{children:"menu"}),r.jsx(p.path,{d:"M 2 2.5 L 20 2.5",className:"top",variants:{closed:{d:"M 2 2.5 L 20 2.5"},open:{d:"M 3 16.5 L 17 2.5"}},strokeWidth:"3",strokeLinecap:"round"}),r.jsx(p.path,{d:"M 2 9.423 L 20 9.423",opacity:"1",className:"middle",strokeWidth:"3",strokeLinecap:"round"}),r.jsx(p.path,{d:"M 2 16.346 L 20 16.346",className:"bottom",variants:{closed:{d:"M 2 16.346 L 20 16.346"},open:{d:"M 3 2.5 L 17 16.346"}},strokeWidth:"3",strokeLinecap:"round"})]})}),J=[{href:"#home",site:"Home"},{href:"#experience",site:"Experience"},{href:"#projects",site:"Projects"},{href:"https://shirajuki.js.org",site:"Digital garden"}],Xe=()=>{const t=N(0),e=N(0),[n,s]=O.useState(0),[i,o]=O.useState(!1),{scrollY:l}=ve(),u=N(0),c=N("80%");we(l,"change",a=>{a<n?(M(t,1,{duration:.25}),M(e,0,{duration:.15})):a>100&&a>n&&(M(t,0,{duration:.25}),M(e,-120,{duration:.15})),s(a)});const v=()=>{o(a=>(M(u,a?0:1,{duration:.15}),M(c,a?"80%":"100%",{}),M([["path.top",{d:a?"M 2 2.5 L 20 2.5":"M 3 16.5 L 17 2.5"},{at:"<",duration:.5,ease:"easeInOut"}],["path.middle",{opacity:a?1:0},{at:"<",duration:.5,ease:"easeInOut"}],["path.bottom",{d:a?"M 2 16.346 L 20 16.346":"M 3 2.5 L 17 16.346"},{at:"<",duration:.5,ease:"easeInOut"}]]),!a))};return r.jsxs(r.Fragment,{children:[r.jsxs(p.header,{initial:{scale:1,translateX:"-50%",translateY:"-200%",opacity:1},animate:{scale:1,translateY:"0"},style:{opacity:t,y:e},transition:{type:"spring",stiffness:260,damping:20,delay:2},className:"fixed z-50 top-6 backdrop-blur-md left-1/2 text-white items-center py-2 px-6 justify-between w-full max-w-[580px] mx-auto bg-clear rounded-full outline-primary-500 outline !hidden md:!flex",children:[r.jsx("a",{href:"/",children:r.jsxs(p.h1,{className:"text-2xl fancy-font flex items-center justify-center gap-2",whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",stiffness:400,damping:17},children:[r.jsx(Ke,{}),"Jonny"]})}),r.jsx("nav",{className:"flex gap-3 text-sm",children:J.map(a=>r.jsx(p.a,{href:a.href,whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",stiffness:500,damping:20},onClick:()=>a.href.startsWith("#")&&lenis.scrollTo(a.href,{offset:-50,duration:1}),className:`hover:bg-clear rounded-md p-[0.35rem] px-2 transition-background duration-300 ${a.href.startsWith("#")?"":"bg-clear"}`,children:a.site},a.site))})]}),r.jsxs(p.header,{initial:{scale:1,translateY:"-200%"},animate:{scale:1,translateY:"0"},transition:{type:"spring",stiffness:260,damping:20,delay:2},className:"!flex md:!hidden fixed z-50 right-6 top-6 w-full justify-end",children:[r.jsx(Pe,{toggle:v}),r.jsx(p.nav,{style:{scale:c,opacity:u},className:"fixed flex flex-col gap-3 text-sm backdrop-blur-md left-12 min-w-[90%] text-white py-3 px-6 justify-between items-start mx-auto bg-clear rounded-md outline-primary-500 outline nav",children:J.map(a=>r.jsx(p.a,{href:a.href,whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",stiffness:500,damping:20},onClick:()=>{v(),a.href.startsWith("#")&&lenis.scrollTo(a.href,{offset:-50,duration:1})},className:`hover:bg-clear rounded-md p-[0.35rem] px-2 transition-background text-left duration-300 ${a.href.startsWith("#")?"":"bg-clear"}`,children:a.site},a.site))})]}),r.jsx("div",{className:`fixed w-screen h-screen z-[49] pointer-events-none transition-all ${i?"bg-black/80 backdrop-blur-sm":"backdrop-blur-none"}`})]})};export{Xe as default};
